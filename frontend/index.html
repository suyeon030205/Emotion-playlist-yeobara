<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Emotion Playlist</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>

    <!-- ===================================== -->
    <!-- ⭐ 로그인 화면 -->
    <!-- ===================================== -->
    <div id="screen-login" class="screen">
      <div class="auth-card">
        <h1 class="auth-title">Emotion Playlist 💿</h1>
        <p class="auth-subtitle">로그인하고 기분 플리를 추천받아 보세요.</p>

        <form id="login-form" class="auth-form">
          <input type="text" id="login-username" placeholder="아이디" required />
          <input type="password" id="login-password" placeholder="비밀번호" required />
          <button type="submit" class="auth-btn">로그인</button>
        </form>

        <p class="auth-helper">
          아직 계정이 없나요?
          <a href="#" id="to-signup">회원가입 하기</a>
        </p>
      </div>
    </div>

    <!-- ===================================== -->
    <!-- ⭐ 회원가입 화면 -->
    <!-- ===================================== -->
    <div id="screen-signup" class="screen hidden">
      <div class="auth-card">
        <h1 class="auth-title">회원가입</h1>
        <p class="auth-subtitle">간단한 정보만으로 시작해요.</p>

        <form id="signup-form" class="auth-form">
          <input type="text" id="signup-username" placeholder="아이디" required />
          <input type="password" id="signup-password" placeholder="비밀번호" required />
          <button type="submit" class="auth-btn">회원가입 완료</button>
        </form>

        <p class="auth-helper">
          이미 계정이 있나요?
          <a href="#" id="to-login">로그인으로 돌아가기</a>
        </p>
      </div>
    </div>

    <!-- ===================================== -->
    <!-- ⭐ 감정 분석 메인 화면 -->
    <!-- ===================================== -->
    <div id="screen-main" class="screen hidden">
      <div class="emotion-app">
        <header class="emotion-header">
          <h1>Emotion Playlist 💿</h1>
          <!-- ✅ 새로 추가된: 지난 기록 보기 버튼 -->
          <button id="btn-history" class="history-btn-top">📅 지난 기록 보기</button>
        </header>

        <!-- ⭐ 1번 화면: 카메라 + 버튼 -->
        <div id="screen-1">
          <main class="emotion-main">
            <!-- 왼쪽: 웹캠 카드 -->
            <section class="card camera-card">
              <div class="card-top">
                <span class="chip chip-live">LIVE</span>
                <span class="card-label">Mood Camera</span>
              </div>
              <div class="camera-frame">
                <video id="video" autoplay playsinline></video>
              </div>
            </section>

            <!-- 오른쪽: 캐릭터 + 상태 + 버튼 -->
            <section class="card side-card">
              <div class="mascot-row">
                <div class="mascot-avatar">
                  <span class="mascot-emoji">🫧</span>
                </div>
                <div class="mascot-copy">
                  <p class="emotion-subtitle">
                    1초 동안 표정을 찍고,<br />
                    지금 내 기분을 닮은 음악을 추천받아 보세요.
                  </p>
                </div>
              </div>

              <div class="status-bubble">
                <span class="status-icon">💬</span>
                <p id="status-text" class="status-text">
                  아직 분석 전이에요. 버튼을 눌러 시작해 보세요!
                </p>
              </div>

              <button id="analyze-btn" class="analyze-btn" type="button">
                ✨ 감정 분석 시작하기
              </button>
            </section>
          </main>
        </div>

        <!-- ⭐ 3번 화면: 결과 -->
        <div id="screen-3" class="hidden">
          <section id="result-area" class="card result-card">
            <!-- JS에서 여기 전체를 갈아끼워서
                 게이지 + 유튜브 영상 3개를 넣을 거야 -->
          </section>

          <button id="retry-btn" class="retry-btn" type="button">
            다시 분석해 보기 🔁
          </button>
        </div>
      </div>
    </div>

    <!-- ⭐ 분석 중 오버레이 -->
    <div id="analyzing-screen" class="analyzing-screen hidden">
      <div class="analyzing-card">
        <div class="big-emoji" id="analyzing-emoji">😶‍🌫️</div>
        <p class="analyzing-title">감정을 분석하는 중이에요...</p>
        <p class="analyzing-desc">
          잠시만 기다려 주세요!<br />
          당신의 표정에서 느껴지는 무드를 해석하고 있어요 ✨
        </p>
        <div class="dots-loading">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <!-- ✅ 새로 추가된: 감정 달력 모달 -->
    <div id="modal-history" class="modal-overlay hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>나의 감정 달력</h2>
          <button id="btn-close-history" class="close-btn">✖</button>
        </div>

        <div class="calendar-container">
          <div class="calendar-header">
            <span id="cal-year-month"></span>
          </div>
          <div class="calendar-weekdays">
            <div>일</div><div>월</div><div>화</div>
            <div>수</div><div>목</div><div>금</div><div>토</div>
          </div>
          <div id="calendar-grid" class="calendar-grid"></div>
        </div>

        <div id="history-detail" class="history-detail hidden">
          <h3 id="detail-date"></h3>
          <p id="detail-emotion"></p>
          <div id="detail-video"></div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
